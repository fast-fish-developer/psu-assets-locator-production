exports.id=519,exports.ids=[519],exports.modules={1088:(e,t,s)=>{Promise.resolve().then(s.bind(s,3672))},2880:(e,t,s)=>{Promise.resolve().then(s.bind(s,8727))},6175:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3219,23)),Promise.resolve().then(s.t.bind(s,4863,23)),Promise.resolve().then(s.t.bind(s,5155,23)),Promise.resolve().then(s.t.bind(s,802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,8530,23)),Promise.resolve().then(s.t.bind(s,8921,23))},3127:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6959,23)),Promise.resolve().then(s.t.bind(s,3875,23)),Promise.resolve().then(s.t.bind(s,1284,23)),Promise.resolve().then(s.t.bind(s,7174,23)),Promise.resolve().then(s.t.bind(s,1797,23)),Promise.resolve().then(s.t.bind(s,7190,23)),Promise.resolve().then(s.t.bind(s,1365,23))},8727:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(3131),n=s(9334),i=s(6248);let r=(0,i.createServerReference)("00786e0cb14b8e4d5677baceca62f005885856eb94",i.callServer,void 0,i.findSourceMapURL,"logout");var o=s(8531),c=s.n(o);function l(){let e=(0,n.usePathname)();return"/page/login"===e?null:"/page/asset-locator"===e?(0,a.jsx)("nav",{className:"bg-blue-600 p-4",children:(0,a.jsx)("div",{className:"container mx-auto flex justify-start items-center",children:(0,a.jsx)("div",{className:"ml-6 flex space-x-4",children:(0,a.jsx)(c(),{href:"/page/dashboard",className:"text-white hover:text-blue-200",children:" Back"})})})}):e.startsWith("/page/asset-locator/map2/")?(0,a.jsx)("nav",{className:"bg-blue-600 p-4",children:(0,a.jsx)("div",{className:"container mx-auto flex justify-start items-center",children:(0,a.jsx)("div",{className:"ml-6 flex space-x-4",children:(0,a.jsx)(c(),{href:"/page/asset-locator",className:"text-white hover:text-blue-200",children:" Back"})})})}):e.startsWith("/page/asset-locator/map/")?(0,a.jsx)("nav",{className:"bg-blue-600 p-4",children:(0,a.jsx)("div",{className:"container mx-auto flex justify-start items-center",children:(0,a.jsxs)("div",{className:"ml-6 flex space-x-4",children:[(0,a.jsx)(c(),{href:"/page/asset-locator",className:"text-white hover:text-blue-200",children:" Back"}),(0,a.jsx)("div",{id:"asset-name"})]})})}):(0,a.jsx)("nav",{className:"bg-blue-600 p-4",children:(0,a.jsxs)("div",{className:"container mx-auto flex justify-start items-center",children:[(0,a.jsx)("div",{className:"text-white text-lg font-bold"}),(0,a.jsxs)("div",{className:"ml-6 flex space-x-4",children:[(0,a.jsx)(c(),{href:"/page/dashboard",className:"text-white hover:text-blue-200",children:"Dashboard"}),(0,a.jsx)("form",{action:async()=>{await r(),(0,n.redirect)("/")},children:(0,a.jsx)("button",{type:"submit",className:"text-white hover:text-blue-200",children:"Logout"})})]})]})})}},3672:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/var/www/html/Project/psu-asset-locator-2025/psu-asset-locator/app/components/Navbar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/var/www/html/Project/psu-asset-locator-2025/psu-asset-locator/app/components/Navbar.tsx","default")},9611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>l});var a=s(2740),n=s(3672),i=s(7502),r=s.n(i),o=s(4311),c=s.n(o);s(2704);let l={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,a.jsxs)("html",{lang:"en",children:[(0,a.jsx)("head",{children:(0,a.jsx)("link",{rel:"icon",type:"image/png",href:"/images/icons8-collectibles-24.png"})}),(0,a.jsxs)("body",{className:`bg-white ${r().variable} ${c().variable} antialiased`,children:[(0,a.jsx)(n.default,{}),e]})]})}},9289:(e,t,s)=>{"use strict";s.d(t,{ES:()=>y,FD:()=>A,Ht:()=>w,Ju:()=>P,Lb:()=>N,Oj:()=>T,Yc:()=>b,ht:()=>k,iD:()=>x,qO:()=>g,ri:()=>v,w:()=>p,x0:()=>$,xy:()=>j});var a=s(1590);s(376);var n=s(1231),i=s(1654);s(3194);var r=s(2385),o=s(6332),c=s(9021),l=s.n(c),d=s(3873),u=s.n(d),f=s(9344);let h=new TextEncoder().encode("secret"),m="asset.json";async function p(e){return await new n.P(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("10 sec from now").sign(h)}async function b(e){return(0,i.i)(e)}async function x(e){let t={email:e.get("email"),name:"John"},s=new Date(Date.now()+1e4),a=await p({user:t,expires:s});(await (0,r.UL)()).set("session",a,{expires:s,httpOnly:!0})}async function v(){(await (0,r.UL)()).set("session","",{expires:new Date(0)})}async function w(){let e=await (0,r.UL)(),t=e.get("session")?.value;return t?await b(t):null}async function g(e){let t=e.cookies.get("session")?.value;if(!t)return;let s=await b(t);s.expires=new Date(Date.now()+1e4);let a=o.NextResponse.next();return a.cookies.set({name:"session",value:await p(s),httpOnly:!0,expires:s.expires}),a}async function j(){let e=await fetch("https://dnaspaces.io/api/am/v1/auth/license/accesstoken",{method:"GET",headers:{Authorization:process.env.AUTHORIZATION_KEY}});if(!e.ok){let t=await e.text();throw Error(`Auth failed: ${t}`)}let t=await e.json(),s=(0,i.i)(t.token),a=new Date(Date.now()+18e5),n=await p({...s,expires:a,token:t.token});(await (0,r.UL)()).set("session",n,{expires:a,httpOnly:!0})}async function y(){let e=await w(),t=e?.token,s=await fetch("https://dnaspaces.io/api/am/v1/entities/access/assets?page=1&limit=50",{method:"GET",headers:{Authorization:`JWT ${t}`,"Content-Type":"application/json"}});return await s.json()}async function N(e){let t=`https://dnaspaces.io/api/am/v1/entities/access/assets/${e}`,s=await w(),a=s?.token,n=await fetch(t,{method:"GET",headers:{Authorization:`JWT ${a}`,"Content-Type":"application/json"}});return await n.json()}async function A(e){let t=`https://dnaspaces.io/api/am/v1/entities/access/assets?page=${e}&limit=100`,s=await w(),a=s?.token,n=await fetch(t,{method:"GET",headers:{Authorization:`JWT ${a}`,"Content-Type":"application/json"}}),i=await n.json();return console.log("fetch server page no. :",e),i}async function P(){let e=null,t=1,s=0,a=await w(),n=a?.token;for(;t>0&&s<100;){let a=await fetch(`https://dnaspaces.io/api/am/v1/entities/access/assets?page=${s}&limit=100`,{method:"GET",headers:{Authorization:`JWT ${n}`,"Content-Type":"application/json"}}),i=await a.json();e=null===e?i:[...e,...i],t=i.length,s++,console.log(`result ${s}, item count ${t}`)}return console.log("fetch all result:",e.length),console.log("page:",s),e}async function k(e,t){if(void 0===t)return null;let s=`images/floors/${e}/${t}`;for(let a of(console.log("folder:",e),console.log("imgName:",t),["jpg","png"])){let e=`/${s}.${a}`,t=u().join(process.cwd(),"public",e);try{if(l().existsSync(t))return e}catch(e){console.error("getUrlFromHierarchy() error:",e)}}}async function T(e){try{let t=u().join(process.cwd(),"data",m),s=u().dirname(t);return l().existsSync(s)||l().mkdirSync(s,{recursive:!0}),l().writeFileSync(t,JSON.stringify(e,null,2)),{success:!0,message:"save asset success!"}}catch(e){return console.error("Error writing data to file error",e.message),{success:!1,message:"save asset error: "+e.message}}}async function $(){try{let e=u().join(process.cwd(),"data",m),t=u().dirname(e);if(!l().existsSync(t))return{success:!1,message:"file not foune"};let s=l().statSync(e).mtime;if(new Date-s>=18e5)return{success:!1,message:"data expired (10 minutes)"};let a=l().readFileSync(e,"utf8"),n=JSON.parse(a);return{success:!0,data:n}}catch(e){return console.error("Error reading the file",e),{success:!1,message:"load asset error"+e.message}}}(0,f.D)([p,b,x,v,w,g,j,y,N,A,P,k,T,$]),(0,a.A)(p,"405a2fa769107152542e7ea1ece6e1c81f6fb6f7fa",null),(0,a.A)(b,"40f107a9a1ed92ef4cb1dc92ca785fd6f291a9dde2",null),(0,a.A)(x,"405c6e103fcb547f95b149b39149a4e415e3ff5ab0",null),(0,a.A)(v,"00786e0cb14b8e4d5677baceca62f005885856eb94",null),(0,a.A)(w,"00bc614560c8b89a198c8413e96e0094b51c25a1b6",null),(0,a.A)(g,"401438477ef9251cf6d50f4b523eb008dd954ad802",null),(0,a.A)(j,"0054899b10ed34cd2fa133648466dbd16f279ed2a0",null),(0,a.A)(y,"005dac92b95ad4508d12ffde167296e7e36933321b",null),(0,a.A)(N,"40816ec9ddc9150859e3b7d132b09ebc9c7e9c3283",null),(0,a.A)(A,"40d0810138f64f5fe8ff88e1086c48197197b87361",null),(0,a.A)(P,"008bc2c7ba6d5d5f9d305e3753c3d9993dc458ce6b",null),(0,a.A)(k,"60c96956bcfa6a4d961911d2705fcea86abb69f712",null),(0,a.A)(T,"4054d851e7ff19ddf75a4d000ea97ed0c2a91cce12",null),(0,a.A)($,"00f66535b3f7e3b925e8851056c341d62b0302ee6a",null)},2704:()=>{}};